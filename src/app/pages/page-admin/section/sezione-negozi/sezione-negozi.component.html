<div class="row mw-100 p-2">
    <div class="col-12 ">
        <mat-form-field class="ml-3">
            <mat-label>{{negozioSelected !== undefined ? negozioSelected.nome : 'Negozi disponibili'}}</mat-label>
            <mat-select [formControl]="toppings">

                <mat-option *ngFor="let negozio of negozi" [value]="negozio" (click)="negozioSelected = negozio">
                    {{negozio.nome}}
                </mat-option>

            </mat-select>
        </mat-form-field>

        <app-new-negozio-modal></app-new-negozio-modal>

    </div>
</div>

<hr />

<div *ngIf="negozioSelected !== undefined && negozioSelected !== null" class="row mw-100 p-2 mb-3">
    <div class="col-12">
        <h5 class="ml-3">{{negozioSelected !== undefined ? negozioSelected.nome : ''}}</h5>
        <button mat-button (click)="openDialog()" style="color: #6c757d;">
            Modifica
        </button>
    </div>
</div>

<div class="row mw-100 p-4">
    <div class="col-12 ">
        <div *ngIf="negozioSelected !== undefined">

            <h6 class="text-muted"
                style="font-weight: 700; font-family: Amazon Ember,Amazon Arabic Ember,Arial,sans-serif!important;">
                Magazzino</h6>

            <hr />

            <div *ngFor="let tipo of negozioSelected.magazino.tipiAssociati" class="p-2 pt-4">

                <div class="row">
                    <div class="col-12">
                        <h6 class="text-muted"
                            style="font-weight: 700; font-family: Amazon Ember,Amazon Arabic Ember,Arial,sans-serif!important;">
                            {{tipo.descrizione}}</h6>
                    </div>
                </div>
                <mat-tab-group>
                    <div class="row ">
                        <div *ngFor="let sottoTipo of tipo.sottoTipi">
                            <mat-tab label="{{sottoTipo.descrizione}}">

                                <div *ngFor="let prodotto of sottoTipo.prodottiAssociati">
                                    <div class="row p-0 mw-100 mt-2">

                                        <div class="col-12">
                                            <mat-card>
                                                {{prodotto.nomeProdotto}}
                                            </mat-card>

                                        </div>

                                    </div>
                                </div>



                            </mat-tab>
                        </div>

                    </div>
                </mat-tab-group>
            </div>


        </div>

    </div>
</div>