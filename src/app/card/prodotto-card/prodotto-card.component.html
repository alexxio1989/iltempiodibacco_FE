<mat-card class="p-0 " matRipple style="max-width: 400px;">

  <div class="row pl-3 pr-0">

    <div class="col-4 d-flex align-items-center"
      style="background: rgba(180, 180, 180, 0.2);min-height: 150px; max-height: 150px; ">
      <div>
        <img *ngIf="prodotto.image !== undefined && prodotto.image !== null && prodotto.image !== ''" alt="Web Studio"
          class="img-fluid" src="{{prodotto.image}}" />
        <img *ngIf="prodotto.image === undefined || prodotto.image === null || prodotto.image === ''" alt="Web Studio"
          class="img-fluid" src="../../../assets/images/default.png" />
      </div>

    </div>
    <div class="col-7 ml-auto d-flex align-items-center ">
      <div class="card-body pl-0 pr-0 pb-2 pt-2">
        
        <div  class="d-flex justify-content-center"
          style="margin-bottom: -15px; margin-top: -5px;">
          <h6
            style="opacity: 0.7;font-weight: 700; font-family: Amazon Ember,Amazon Arabic Ember,Arial,sans-serif!important; font-size: calc(6px + (25 - 14) * ((100vw - 300px) / (1600 - 300)));">
            {{prodotto.nomeProdotto}}</h6>

        </div>

        <div class=" d-flex justify-content-center mt-3">
          <h6 class="md-display-1" style="font-family: Amazon Ember,Amazon Arabic Ember,Arial,sans-serif!important; font-size: calc(3px + (26 - 14) * ((100vw - 300px) / (1600 - 300)));">
            Prezzo : <b style="opacity: 0.7;">{{prodotto.prezzo + 'â‚¬'}}</b></h6>
        </div>

      </div>
    </div>
    <div class="col-1 pl-0">
      <button mat-icon-button style="margin-left: -20px"  [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
        <mat-icon>more_vert</mat-icon>
      </button>
      <mat-menu class="p-3 " #menu="matMenu">
        
        <mat-label>Seleziona qnt. prodotto</mat-label>
        <app-incrementer (valueOutput) ="countQuantityToCart($event)"  (click)="$event.stopPropagation()" [value]="_value || 0" [step]="_step" [min]="_min" [max]="_max" [wrap]="_wrap"></app-incrementer>
        
        <div>
          <button *ngIf="(quantityToCart > 0 && !isProdottoInCart) || ((quantityToCart > qntInCart) || (quantityToCart < qntInCart))" mat-button (click)="$event.stopPropagation();  aggiungiCarrello()"  style="color: #6c757d;">
            {{qntInCart > 0 && (quantityToCart > qntInCart) || (quantityToCart < qntInCart) ? 'Aggiorna carrello' : 'Aggiungi al carrello'}}
          </button>
        </div>

        <div>
          <button  *ngIf="isProdottoInCart  " mat-button (click)="$event.stopPropagation();  rimuoviCarrello(prodotto)"  style="color: #6c757d;">
            Rimuovi dal carrello
          </button>
        </div>

      </mat-menu>
    </div>
  </div>


</mat-card>